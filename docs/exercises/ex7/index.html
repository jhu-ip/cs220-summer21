<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous"><title data-react-helmet="true">Day 7 In-class Exercise | EN.601.220: Intermediate Programming</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Day 7 In-class Exercise | EN.601.220: Intermediate Programming"><meta data-react-helmet="true" name="description" content="This is an in-class exercise. An exercise page like this one will contain a brief description but is intended to be supplemented by discussion during our meeting time. Complete the exercise to the best of your ability. Feel free to talk with other students as you work, and do not be afraid to ask questions if you get stuck. Aim to complete as much as possible during our meeting, and try to finish on your own before our next class meeting. Remember to submit on Gradescope once or more, checking the autograder results. For credit, you must submit by the end of the semester."><meta data-react-helmet="true" property="og:description" content="This is an in-class exercise. An exercise page like this one will contain a brief description but is intended to be supplemented by discussion during our meeting time. Complete the exercise to the best of your ability. Feel free to talk with other students as you work, and do not be afraid to ask questions if you get stuck. Aim to complete as much as possible during our meeting, and try to finish on your own before our next class meeting. Remember to submit on Gradescope once or more, checking the autograder results. For credit, you must submit by the end of the semester."><meta data-react-helmet="true" property="og:url" content="https://jhu-ip.github.io/cs220-summer21/docs/exercises/ex7"><link data-react-helmet="true" rel="shortcut icon" href="/cs220-summer21/img/logo_cpp.svg"><link data-react-helmet="true" rel="canonical" href="https://jhu-ip.github.io/cs220-summer21/docs/exercises/ex7"><link rel="stylesheet" href="/cs220-summer21/styles.ed3d7d8a.css">
<link rel="preload" href="/cs220-summer21/styles.d87dab3d.js" as="script">
<link rel="preload" href="/cs220-summer21/runtime~main.f1881298.js" as="script">
<link rel="preload" href="/cs220-summer21/main.b7408651.js" as="script">
<link rel="preload" href="/cs220-summer21/common.512b24bd.js" as="script">
<link rel="preload" href="/cs220-summer21/2.47271df8.js" as="script">
<link rel="preload" href="/cs220-summer21/30.e0d3b341.js" as="script">
<link rel="preload" href="/cs220-summer21/31.0b40a3f8.js" as="script">
<link rel="preload" href="/cs220-summer21/f976f453.89c9b3c9.js" as="script">
<link rel="preload" href="/cs220-summer21/17896441.e6d63191.js" as="script">
<link rel="preload" href="/cs220-summer21/1f7aec3b.6b493b6d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top navbarHideable_3046"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/cs220-summer21/"><img class="navbar__logo" src="/cs220-summer21/img/logo_cpp.svg" alt="CS220"><strong class="navbar__title">CS220</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cs220-summer21/docs">Syllabus</a><a class="navbar__item navbar__link" href="/cs220-summer21/staff/">Course Staff</a><a class="navbar__item navbar__link" href="/cs220-summer21/staff/office_hours">Office Hours</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a href="#" class="navbar__item navbar__link">Schedules</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cs220-summer21/schedule/class_schedule">Class Schedule</a></li><li><a class="dropdown__link" href="/cs220-summer21/schedule/assignment_schedule">Assignment Schedule</a></li><li><a class="dropdown__link" href="/cs220-summer21/schedule/work_schedule">Suggested Work Schedule</a></li></ul></div><a class="navbar__item navbar__link" href="/cs220-summer21/materials/">Course Material</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a href="#" class="navbar__item navbar__link">Assignments</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cs220-summer21/docs/assignments/warmup">Warmup Homework</a></li><li><a class="dropdown__link" href="/cs220-summer21/docs/assignments/coding_hw1">Homework 1</a></li><li><a class="dropdown__link" href="/cs220-summer21/docs/assignments/coding_hw2">Homework 2</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a href="#" class="navbar__item navbar__link">Resources</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cs220-summer21/docs/resources/github-ssh">Github ssh authentication</a></li><li><a class="dropdown__link" href="/cs220-summer21/mindmaps/program_development">Program development concepts (mindmap)</a></li><li><a class="dropdown__link" href="/cs220-summer21/mindmaps/c_cpp_concepts">C/C++ concepts (mindmap)</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/cs220-summer21/"><img class="navbar__logo" src="/cs220-summer21/img/logo_cpp.svg" alt="CS220"><strong class="navbar__title">CS220</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/cs220-summer21/docs">Syllabus</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-summer21/staff/">Course Staff</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-summer21/staff/office_hours">Office Hours</a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist">Schedules</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/cs220-summer21/schedule/class_schedule">Class Schedule</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-summer21/schedule/assignment_schedule">Assignment Schedule</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-summer21/schedule/work_schedule">Suggested Work Schedule</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/cs220-summer21/materials/">Course Material</a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist">Assignments</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/cs220-summer21/docs/assignments/warmup">Warmup Homework</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-summer21/docs/assignments/coding_hw1">Homework 1</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-summer21/docs/assignments/coding_hw2">Homework 2</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist">Resources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/cs220-summer21/docs/resources/github-ssh">Github ssh authentication</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-summer21/mindmaps/program_development">Program development concepts (mindmap)</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-summer21/mindmaps/c_cpp_concepts">C/C++ concepts (mindmap)</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Day 7 In-class Exercise</h1></header><div class="markdown"><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>This is an in-class exercise. An exercise page like this one will contain a brief description but is intended to be supplemented by discussion during our meeting time. Complete the exercise to the best of your ability. Feel free to talk with other students as you work, and do not be afraid to ask questions if you get stuck. Aim to complete as much as possible during our meeting, and try to finish on your own before our next class meeting. Remember to submit on Gradescope once or more, checking the autograder results. For credit, you must submit by the end of the semester. </p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="learning-objectives"></a>Learning Objectives<a aria-hidden="true" tabindex="-1" class="hash-link" href="#learning-objectives" title="Direct link to heading">#</a></h2><div class="admonition admonition-success alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Objectives</h5></div><div class="admonition-content"><p>This exercise will help you gain additional familiarity with:</p><ul><li>arrays &amp; strings</li><li>function writing</li><li>bit operations (AND, OR, XOR, SHIFT)</li><li>integer representation (two‚Äôs complement, endianness)</li></ul></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="part-0---get-the-starter-codes"></a>Part 0 - Get the starter codes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#part-0---get-the-starter-codes" title="Direct link to heading">#</a></h3><p>Get the starter codes from <code>cs220-public</code>, copy them over to <code>cs220</code> (remember to create a new directory <code>ex7</code> for that), and create an initial commit with the copied starter codes.  You should see the following files: <code>encrypt.c</code>, <code>intrep.c</code>, and <code>endian.c</code>.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>If you don&#x27;t remember how to get the starter codes, go back and check previous exercises for instructions.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="part-1---simple-encryption-using-bitwise-operators"></a>Part 1 - Simple encryption using bitwise operators<a aria-hidden="true" tabindex="-1" class="hash-link" href="#part-1---simple-encryption-using-bitwise-operators" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="introduction"></a>Introduction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#introduction" title="Direct link to heading">#</a></h4><p>Sam and Chloe are friends. They want to encrypt their conversation messages so that they can keep their communications confidential. Your job is to help them implement the encryption mechanism they have in mind: </p><ul><li>Every message is represented in binary; that is each and every message only includes 0s and 1s and is no longer than 32 bits long. Then it is written down <code>n</code> times, shifted to the left by <code>1, 2, ..., n‚Äê1</code> bits for each copy. Finally, the columns are XORed together to produce the final encrypted message.</li></ul><p><strong>Example</strong>: Let us say the plain message is 1001011 and n = 4. </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">      1 0 0 1 0 1 1    shift 0 (plain message)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    1 0 0 1 0 1 1 0    shift 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  1 0 0 1 0 1 1 0 0    shift 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1 0 0 1 0 1 1 0 0 0    shift 3 </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1 1 1 0 1 0 1 0 0 1 ‚Üê final encoded message (XORed) </span></div></div></div></div></div><p>Write a C program to perform this encryption. If the entered message contains anything other than 0s/1s and/or n&lt;=0, your program should print a sensible message and exit with code 1.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="instructions"></a>Instructions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#instructions" title="Direct link to heading">#</a></h4><ol><li><p>Open <code>encrypt.c</code> for editing using <code>emacs</code> or <code>vim</code>.</p></li><li><p>Read the source code and the comments.  Your instructions are in the comments.</p></li><li><p>Modify the source files and test by:</p><ul><li>Compiling with <code>gcc -Wall -Wextra -std=c99 -pedantic encrypt.c -o encrypt</code> or using your alias: <code>gccc encrypt.c -o encrypt</code>.</li><li>Execute <strong>./encrypt</strong> and test your code.</li></ul></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="checkpoints"></a>Checkpoints<a aria-hidden="true" tabindex="-1" class="hash-link" href="#checkpoints" title="Direct link to heading">#</a></h4><ol><li>What does the bitwise operator <code>&gt;&gt;</code> do?  Can it be applied to <code>float</code> variables?</li><li>Given an 8-bit value (e.g. <code>10011101</code>), how can you obtain the four high bits (i.e. <code>1001</code> in this example)?</li><li>What is the difference between <code>^</code> and <code>|</code>?</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="part-2---integer-representation---twos-complement"></a>Part 2 - Integer representation - Two&#x27;s complement<a aria-hidden="true" tabindex="-1" class="hash-link" href="#part-2---integer-representation---twos-complement" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="introduction-1"></a>Introduction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#introduction-1" title="Direct link to heading">#</a></h4><p>In this part, you will utilize bitwise operators to interpret 32-bit data using two&#x27;s complement.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="instructions-1"></a>Instructions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#instructions-1" title="Direct link to heading">#</a></h4><ol><li><p>In the source file <code>intrep.c</code>, implement the <code>int_magnitude</code> function. It receives an <code>unsigned int</code> value as an argument, which it should interpret as being a 32-bit two&#x27;s complement signed integer value.  It should return an <code>unsigned int</code> value representing the <em>magnitude</em> of the argument value. A trivial implementation of the <code>magnitude</code> function would look like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-c codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">unsigned</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">magnitude</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">unsigned</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> val</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> signed_val </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> val</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">signed_val </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    val </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">signed_val</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> val</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div></li><li><p>Using your knowledge of two&#x27;s complement representation and bitwise operators, implement the <code>magnitude</code> function without using any signed values. In other words, don&#x27;t use any values belonging to the <code>int </code> data type, or any other signed data type. Here is a suggested approach:</p><ul><li>If the highest bit of <code>val</code> is not set to 1, then just return the value as-is</li><li>If the highest bit of <code>val</code> is set to 1, then it&#x27;s magnitude can be found by subtracting the value of the bits other than the highest bit from the <code>unsigned int</code> value numerically equal to <code>INT_MAX</code> plus 1</li></ul></li><li><p>Compile the program using the command: <code>gcc -g -o intrep -Wall -Wextra -pedantic -std=c99 intrep.c</code> or <code>gccc -o intrep -g intrep.c</code>.</p></li><li><p>Run the program using the command  <code>./intrep</code>. You will know if your implementation is correct if you can run the program, and all of the <code>assert</code> statements in the <code>main</code> function succeed.</p></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="checkpoints-1"></a>Checkpoints<a aria-hidden="true" tabindex="-1" class="hash-link" href="#checkpoints-1" title="Direct link to heading">#</a></h4><ol><li>What is two&#x27;s complement?</li><li>What is integer overflow and underflow?</li><li>Is signed integer overflow an undefined behavior?</li><li>Is unsigned integer overflow an undefined behavior?</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="part-3---integer-representation---endianness"></a>Part 3 - Integer representation - Endianness<a aria-hidden="true" tabindex="-1" class="hash-link" href="#part-3---integer-representation---endianness" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="introduction-2"></a>Introduction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#introduction-2" title="Direct link to heading">#</a></h4><p>In this part, you will explore the endianness of multi-byte data representation.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="instructions-2"></a>Instructions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#instructions-2" title="Direct link to heading">#</a></h4><ol><li><p>Compile and run the <code>endian.c</code> program using the following commands: <code>gcc -g -o endian -Wall -Wextra -pedantic -std=c99 endian.c</code> or <code>gccc -o endian -g endian.c</code>.</p></li><li><p>In its initial form, this program will print the size in bytes of several integer data types.  You can interpret the size of each data type as being the number of bytes required to store one value belonging to the data type. For example, if <code>sizeof(int)</code> is 4, that means that 4 bytes are needed to store one instance of the <code>int</code> data type.  This makes a lot of sense if one byte stores 8 bits, and <code>int</code> is a 32-bit type.</p></li><li><p>Now that we know that instances of the various integer data types require multiple bytes of memory to represent, an important question to ask is: &quot;how are the bytes of an integer value stored in memory&quot;?  Two typical approaches are called <em>little endian</em> and <em>big endian</em>.  On a <em>big endian</em> computer, the most significant byte of a multi-byte data value is stored in memory before the less-significant bytes.  In contrast, on a <em>little endian</em> computer, the least significant byte of a multi-byte data value is stored in memory before the more-significant bytes.</p></li><li><p>Uncomment the code labeled as &quot;uncomment this part&quot;.  The variable called <code>val</code> contains the value 950238851, which in hexadecimal is <code>38A37E83</code>. That means that the bytes making up this value, from most significant to least significant, are</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">38 A3 7E 83 </span></div></div></div></div></div></li><li><p>Recompile the program, then run it in <code>gdb</code> using the command: <code>gdb endian</code>..</p></li><li><p>Set a breakpoint at the beginning of the <code>main</code> function using the command <code>break main</code>.  Run the program in <code>gdb</code> using the <code>run</code> command.  Use the <code>next</code> command until <code>gdb</code> is at the final <code>printf</code> command of the program.  The pointer <code>p</code> points to the memory location which stores the value of the <code>val</code> variable. Run the following commands in <code>gdb</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">print/x ((unsigned char *)p)[0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">print/x ((unsigned char *)p)[1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">print/x ((unsigned char *)p)[2]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">print/x ((unsigned char *)p)[3]</span></div></div></div></div></div><p>These <code>gdb</code> commands</p><ul><li>type cast the pointer to <code>p</code> to the type &quot;pointer to <code>unsigned char</code>&quot;</li><li>access the 4 byte values in memory starting at the address that <code>p</code> points to</li><li>prints each byte value in hexadecimal (&quot;<code>print/x</code>&quot; means &quot;print in hexadecimal&quot;)</li></ul><p>These <code>gdb</code> commands are a good illustration of how <code>gdb</code> can inspect arbitrary memory locations as your program runs, and let you know exactly what is stored at those locations.  <code>gdb</code> is extremely cool!</p></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="checkpoints-2"></a>Checkpoints<a aria-hidden="true" tabindex="-1" class="hash-link" href="#checkpoints-2" title="Direct link to heading">#</a></h4><ol><li>Based on your investigation, is the computer you are running the <code>endian</code> program on big endian or little endian?</li><li>If some data are saved in binary format on a big endian machine, can it be read on a little endian machine?  If not, why?  If so, how?</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="part-4---gradescope-submission"></a>Part 4 - Gradescope submission<a aria-hidden="true" tabindex="-1" class="hash-link" href="#part-4---gradescope-submission" title="Direct link to heading">#</a></h3><p>Create a <em>zip</em> file called <code>ex7.zip</code>, which contains <code>encrypt.c</code> and <code>intrep.c</code> with your implementation and fixes (note that <code>endian.c</code> is not required).  Submit the zip file as <a href="https://www.gradescope.com/courses/266485/assignments/1348166" target="_blank" rel="noopener noreferrer">Day 7 In-class Exercise</a> on Gradescope. Make sure your program passes all the autograder tests in order to get full credit. It is due before the next class.  However, late submission is allowed until our last class.  Even so, we highly recommend you to keep up the schedule, finish each in-class exercise, and submit it on Gradescope before the next class.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#learning-objectives" class="table-of-contents__link">Learning Objectives</a><ul><li><a href="#part-0---get-the-starter-codes" class="table-of-contents__link">Part 0 - Get the starter codes</a></li><li><a href="#part-1---simple-encryption-using-bitwise-operators" class="table-of-contents__link">Part 1 - Simple encryption using bitwise operators</a></li><li><a href="#part-2---integer-representation---twos-complement" class="table-of-contents__link">Part 2 - Integer representation - Two&#39;s complement</a></li><li><a href="#part-3---integer-representation---endianness" class="table-of-contents__link">Part 3 - Integer representation - Endianness</a></li><li><a href="#part-4---gradescope-submission" class="table-of-contents__link">Part 4 - Gradescope submission</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright ¬© 2021 CS220, Johns Hopkins University, Built with Docusaurus.</div></div></div></footer></div>
<script src="/cs220-summer21/styles.d87dab3d.js"></script>
<script src="/cs220-summer21/runtime~main.f1881298.js"></script>
<script src="/cs220-summer21/main.b7408651.js"></script>
<script src="/cs220-summer21/common.512b24bd.js"></script>
<script src="/cs220-summer21/2.47271df8.js"></script>
<script src="/cs220-summer21/30.e0d3b341.js"></script>
<script src="/cs220-summer21/31.0b40a3f8.js"></script>
<script src="/cs220-summer21/f976f453.89c9b3c9.js"></script>
<script src="/cs220-summer21/17896441.e6d63191.js"></script>
<script src="/cs220-summer21/1f7aec3b.6b493b6d.js"></script>
</body>
</html>